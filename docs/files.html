<!DOCTYPE HTML>
<html lang="ru" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>+Управление файлами - Руководство Anki</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Руководство пользователя Anki. Anki — это программа для создания карточек, которая упрощает обучение.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="css/misc.css">
        <link rel="stylesheet" href="css/mdbook-admonish.css">
        <link rel="stylesheet" href="./mdbook-admonish.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="intro.html">+Введение</a></li><li class="chapter-item "><a href="background.html"><strong aria-hidden="true">1.</strong> +Предыстория</a></li><li class="chapter-item "><a href="platform/intro.html"><strong aria-hidden="true">2.</strong> Особенности платформ</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="platform/windows/intro.html"><strong aria-hidden="true">2.1.</strong> Windows</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="platform/windows/installing.html"><strong aria-hidden="true">2.1.1.</strong> Установка и обновление</a></li><li class="chapter-item "><a href="platform/windows/installation-issues.html"><strong aria-hidden="true">2.1.2.</strong> Проблемы с установкой</a></li><li class="chapter-item "><a href="platform/windows/startup-issues.html"><strong aria-hidden="true">2.1.3.</strong> Проблемы с запуском</a></li><li class="chapter-item "><a href="platform/windows/display-issues.html"><strong aria-hidden="true">2.1.4.</strong> Проблемы с отображением</a></li><li class="chapter-item "><a href="platform/windows/copy-and-paste.html"><strong aria-hidden="true">2.1.5.</strong> Проблемы с копированием и вставкой</a></li><li class="chapter-item "><a href="platform/windows/text-size.html"><strong aria-hidden="true">2.1.6.</strong> Размер текста</a></li><li class="chapter-item "><a href="platform/windows/permission-problems.html"><strong aria-hidden="true">2.1.7.</strong> Проблемы с правами доступа</a></li></ol></li><li class="chapter-item "><a href="platform/mac/intro.html"><strong aria-hidden="true">2.2.</strong> macOS</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="platform/mac/installing.html"><strong aria-hidden="true">2.2.1.</strong> Установка и обновление</a></li><li class="chapter-item "><a href="platform/mac/display-issues.html"><strong aria-hidden="true">2.2.2.</strong> Проблемы с отображением</a></li></ol></li><li class="chapter-item "><a href="platform/linux/intro.html"><strong aria-hidden="true">2.3.</strong> Linux</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="platform/linux/installing.html"><strong aria-hidden="true">2.3.1.</strong> Установка и обновление</a></li><li class="chapter-item "><a href="platform/linux/missing-libraries.html"><strong aria-hidden="true">2.3.2.</strong> Отсутствуют библиотеки</a></li><li class="chapter-item "><a href="platform/linux/display-issues.html"><strong aria-hidden="true">2.3.3.</strong> Проблемы с отображением</a></li><li class="chapter-item "><a href="platform/linux/blank-window.html"><strong aria-hidden="true">2.3.4.</strong> Пустое главное окно</a></li><li class="chapter-item "><a href="platform/linux/distro-packages.html"><strong aria-hidden="true">2.3.5.</strong> Пакеты дистрибутивов Linux</a></li><li class="chapter-item "><a href="platform/linux/gtk-theme.html"><strong aria-hidden="true">2.3.6.</strong> Неверная тема GTK</a></li><li class="chapter-item "><a href="platform/linux/wayland.html"><strong aria-hidden="true">2.3.7.</strong> Wayland (Вейленд)</a></li><li class="chapter-item "><a href="platform/linux/input-methods.html"><strong aria-hidden="true">2.3.8.</strong> Методы ввода</a></li></ol></li></ol></li><li class="chapter-item "><a href="getting-started.html"><strong aria-hidden="true">3.</strong> Начало работы</a></li><li class="chapter-item "><a href="getting-help.html"><strong aria-hidden="true">4.</strong> +Получение помощи</a></li><li class="chapter-item "><a href="studying.html"><strong aria-hidden="true">5.</strong> Учёба</a></li><li class="chapter-item "><a href="editing.html"><strong aria-hidden="true">6.</strong> Добавление/Редактирование</a></li><li class="chapter-item "><a href="templates/intro.html"><strong aria-hidden="true">7.</strong> Шаблоны карточек</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="templates/fields.html"><strong aria-hidden="true">7.1.</strong> Замена полей</a></li><li class="chapter-item "><a href="templates/generation.html"><strong aria-hidden="true">7.2.</strong> Генерация карточек</a></li><li class="chapter-item "><a href="templates/styling.html"><strong aria-hidden="true">7.3.</strong> Стилизация и HTML</a></li><li class="chapter-item "><a href="templates/errors.html"><strong aria-hidden="true">7.4.</strong> Проверки и ошибки</a></li></ol></li><li class="chapter-item "><a href="preferences.html"><strong aria-hidden="true">8.</strong> Настройки</a></li><li class="chapter-item "><a href="deck-options.html"><strong aria-hidden="true">9.</strong> Параметры колоды</a></li><li class="chapter-item "><a href="syncing.html"><strong aria-hidden="true">10.</strong> Синхронизация с AnkiWeb</a></li><li class="chapter-item "><a href="profiles.html"><strong aria-hidden="true">11.</strong> +Профили</a></li><li class="chapter-item "><a href="browsing.html"><strong aria-hidden="true">12.</strong> +Просмотр</a></li><li class="chapter-item "><a href="filtered-decks.html"><strong aria-hidden="true">13.</strong> +Фильтрованные колоды</a></li><li class="chapter-item "><a href="searching.html"><strong aria-hidden="true">14.</strong> +Поиск</a></li><li class="chapter-item "><a href="importing/intro.html"><strong aria-hidden="true">15.</strong> +Импорт</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="importing/text-files.html"><strong aria-hidden="true">15.1.</strong> +Текстовые файлы</a></li><li class="chapter-item "><a href="importing/packaged-decks.html"><strong aria-hidden="true">15.2.</strong> +Упакованные колоды</a></li></ol></li><li class="chapter-item "><a href="exporting.html"><strong aria-hidden="true">16.</strong> +Экспорт</a></li><li class="chapter-item "><a href="backups.html"><strong aria-hidden="true">17.</strong> +Резервные копии</a></li><li class="chapter-item expanded "><a href="files.html" class="active"><strong aria-hidden="true">18.</strong> +Управление файлами</a></li><li class="chapter-item "><a href="stats.html"><strong aria-hidden="true">19.</strong> +Статистика</a></li><li class="chapter-item "><a href="media.html"><strong aria-hidden="true">20.</strong> +Медиафайлы</a></li><li class="chapter-item "><a href="math.html"><strong aria-hidden="true">21.</strong> +Математика и символы</a></li><li class="chapter-item "><a href="leeches.html"><strong aria-hidden="true">22.</strong> +Приставучие карточки</a></li><li class="chapter-item "><a href="addons.html"><strong aria-hidden="true">23.</strong> +Дополнения</a></li><li class="chapter-item "><a href="troubleshooting.html"><strong aria-hidden="true">24.</strong> +Устранение неполадок</a></li><li class="chapter-item "><a href="sync-server.html"><strong aria-hidden="true">25.</strong> +Свой сервер синхронизации</a></li><li class="chapter-item "><a href="misc.html"><strong aria-hidden="true">26.</strong> +Разное</a></li><li class="chapter-item affix "><a href="contrib.html">+Ваш вклад</a></li><li class="chapter-item affix "><a href="faqs.html">+Часто задаваемые вопросы</a></li><li class="chapter-item affix "><a href="resources.html">+Ресурсы</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Показать оглавление" aria-label=""sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Изменить тему" aria-label="Изменить тему" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light - светлая</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust - ржавчина</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal - уголь</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy - морская</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu - темная Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Поиск. (гор.кл. S)" aria-label="Переключить строку поиска" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Руководство Anki</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Распечатать эту книгу" aria-label="Распечатать эту книгу">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/AndreyKaiu/anki-manual-ru/issues" title="Сообщить об ошибке... (GitHub)" aria-label="Сообщить об ошибке... (GitHub)">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Найти в этой книге ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="Управление-файлами-и-коллекцией"><a class="header" href="#Управление-файлами-и-коллекцией">Управление файлами и коллекцией</a></h1>
<ul>
<li><a href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8">Проверка коллекции</a></li>
<li><a href="#%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5">Пользовательские данные</a></li>
<li><a href="#%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">Файлы программы</a></li>
<li><a href="#%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B-%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0">Параметры запуска</a></li>
<li><a href="#dropbox-%D0%B8-%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2">DropBox и синхронизация файлов</a></li>
<li><a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5-%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D1%8B%D0%B5-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B">Сетевые файловые системы</a></li>
<li><a href="#%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA-%D1%81-%D1%84%D0%BB%D0%B5%D1%88-%D0%BD%D0%B0%D0%BA%D0%BE%D0%BF%D0%B8%D1%82%D0%B5%D0%BB%D1%8F">Запуск с флеш-накопителя</a></li>
<li><a href="#%D0%A0%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%BD%D1%8B%D0%B5-%D0%BA%D0%BE%D0%BF%D0%B8%D0%B8">Резервные копии</a></li>
<li><a href="#%D0%9D%D0%B5%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BD%D1%8B%D0%B9-%D0%B6%D0%B5%D1%81%D1%82%D0%BA%D0%B8%D0%B9-%D0%B4%D0%B8%D1%81%D0%BA">Недоступный жесткий диск</a></li>
<li><a href="#%D0%9F%D1%80%D0%B0%D0%B2%D0%B0-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-%D0%BA-%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9-%D0%BF%D0%B0%D0%BF%D0%BA%D0%B5">Права доступа к временной папке</a></li>
<li><a href="#%D0%9F%D0%BE%D0%B2%D1%80%D0%B5%D0%B6%D0%B4%D1%91%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8">Повреждённые коллекции</a>
<ul>
<li><a href="#linuxmacos">Linux/macOS</a></li>
<li><a href="#windows">Windows</a></li>
<li><a href="#%D0%A4%D0%B8%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%88%D0%B0%D0%B3">Финальный шаг</a></li>
</ul>
</li>
</ul>
<h2 id="Проверка-коллекции"><a class="header" href="#Проверка-коллекции">Проверка коллекции</a></h2>
<p>Рекомендуется время от времени проверять файл вашей коллекции на наличие проблем. Вы можете сделать это через пункт меню «<strong>Инструменты &gt; Проверить базу данных</strong>». Проверка базы данных оптимизирует файл перестраивая некоторые внутренние структуры, что гарантирует нормальную работу всей программы.</p>
<p>При проверке базы данных также перестраивается список меток. Когда вы удаляете отдельные колоды или карточки, Anki не обновляет список используемых меток, так как это неэффективно. Если вы хотите удалить из списка старые метки, которые больше не используются, проверка базы данных — подходящий способ сделать это.</p>
<p>Обратите внимание, что Anki автоматически оптимизирует вашу коллекцию один раз в 2 недели. Эта оптимизация обеспечивает хорошую производительность коллекции, но при автоматической оптимизации не выполняется проверка на ошибки и не перестраивается список меток.</p>
<p><a id="file-locations"></a></p>
<h2 id="Пользовательские-данные"><a class="header" href="#Пользовательские-данные">Пользовательские данные</a></h2>
<p>В <strong>Windows</strong> последние версии Anki хранят файлы вашей коллекции в папке appdata. Вы можете получить к ней доступ, открыв файловый менеджер и введя <code>%APPDATA%\Anki2</code> в поле адреса. Более старые версии Anki хранили файлы Anki в папке <code>Anki</code> в каталоге <code>Documents</code>.</p>
<p>На компьютерах <strong>Mac</strong> последние версии Anki хранят все пользовательские данные в папке <code>~/Library/Application Support/Anki2</code>. Папка Library по умолчанию скрыта, но её можно отобразить в Finder, удерживая клавишу option при нажатии на меню Go. Если у вас используется более старая версия Anki, файлы Anki будут находиться в папке <code>Documents/Anki</code>.</p>
<p>В <strong>Linux</strong> последние версии Anki хранят пользовательские данные в <code>~/.local/share/Anki2</code> или в <code>$XDG_DATA_HOME/Anki2</code>, если вы указали пользовательский путь к данным. Если вы используете стороннюю сборку <strong>Flatpak</strong>, ваши файлы будут находиться в <code>~/.var/app/net.ankiweb.Anki/data/Anki2/</code>. Более старые версии Anki хранили файлы в <code>~/Documents/Anki</code> или <code>~/Anki</code>.</p>
<p>Внутри папки Anki настройки программы и профили пользователей хранятся в файле <code>prefs.db</code>.</p>
<p>Также существует отдельная папка для каждого профиля. Она содержит:</p>
<ul>
<li>
<p>Ваши записи, колоды, карточки и прочее в файле <code>collection.anki2</code></p>
</li>
<li>
<p>Аудио- и графические файлы в папке <code>collection.media</code></p>
</li>
<li>
<p>Папку резервных копий</p>
</li>
<li>
<p>Некоторые системные файлы</p>
</li>
</ul>
<p>Никогда не копируйте и не перемещайте коллекцию, пока Anki запущен. Это может привести к повреждению коллекции. Также не следует перемещать или изменять другие файлы в этой папке.</p>
<h2 id="Файлы-программы"><a class="header" href="#Файлы-программы">Файлы программы</a></h2>
<p>Лаунчер Anki (файл или совокупность файлов служащих для запуска Anki) по умолчанию устанавливается в следующих расположениях:</p>
<ul>
<li>Windows: <code>%LOCALAPPDATA%\Programs\Anki</code></li>
<li>macOS: <code>/Applications/Anki.app</code></li>
<li>Linux: <code>/usr/local/share/anki</code></li>
</ul>
<p>Когда вы устанавливаете/обновляете Anki с помощью лаунчера, он загружает вспомогательные файлы и размещает их в следующих местах:</p>
<ul>
<li>Windows: <code>%LOCALAPPDATA%\AnkiProgramFiles</code></li>
<li>macOS: <code>~/Library/Application Support/AnkiProgramFiles</code></li>
<li>Linux: <code>~/.local/share/AnkiProgramFiles</code></li>
</ul>
<p>Удаление этой папки приведёт к тому, что лаунчер будет вести себя как при новой установке.</p>
<p>Папка <code>AnkiProgramFiles</code> содержит все файлы, необходимые для работы Anki, за исключением лаунчера. Вы можете скопировать её в другую папку или на другую систему и запустить Anki из нового расположения, открыв <code>AnkiProgramFiles/.venv/bin/anki</code> (или <code>AnkiProgramFiles\.venv\scripts\anki</code> в Windows). Если поместить её в стандартное расположение на новом компьютере, лаунчер также сможет повторно использовать существующие файлы при условии, что они были скопированы с сохранением времён изменения.</p>
<p>Дополнительную информацию см. в разделе о флеш-накопителях ниже.</p>
<h2 id="Параметры-запуска"><a class="header" href="#Параметры-запуска">Параметры запуска</a></h2>
<p>Если вы внесли разрушительные изменения (программа поломалась) на одном компьютере  и имеете неповреждённую копию на другом, вы можете захотеть запустить Anki без синхронизации, чтобы использовать полную синхронизацию без предварительной загрузки изменений. Аналогично, если у вас возникают проблемы с Anki, вам может потребоваться (или вам могут порекомендовать) временно отключить дополнения, чтобы проверить, не вызывает ли одно из них проблему. Чтобы сделать оба этих действия одновременно, вы можете запустить Anki в безопасном режиме, удерживая клавишу <kbd>Shift</kbd> при запуске Anki. Продолжайте удерживать <kbd>Shift</kbd>, пока сообщение на экране не сообщит, что Anki запущен в безопасном режиме. Если вы используете Linux и это не сработало, выполните команду:</p>
<pre><code>anki --safemode
</code></pre>
<p>Также возможно указать пользовательское расположение папки данных при запуске. Это продвинутая функция, в первую очередь предназначенная для портативных установок, и в большинстве случаев рекомендуется использовать расположение по умолчанию.</p>
<p>Синтаксис для указания альтернативной папки выглядит следующим образом:</p>
<pre><code>anki -b /path/to/anki/folder
</code></pre>
<ul>
<li>
<p>Если у вас несколько профилей, вы можете передать <code>-p &lt;name&gt;</code> для загрузки конкретного профиля.</p>
</li>
<li>
<p>Если вы передадите -p some-fake-name, Anki покажет экран выбора профиля при запуске. Если профиль не указан, загружается последний использованный профиль.</p>
</li>
<li>
<p>Чтобы изменить язык интерфейса, используйте <code>-l &lt;iso 639-1 language code&amp;gt</code>, например <code>-l ja</code> для японского языка.
Если вы всегда хотите использовать пользовательское расположение папки данных, вы можете изменить ярлык Anki. В Windows щёлкните правой кнопкой мыши по ярлыку, выберите Properties, перейдите на вкладку Shortcut и добавьте <code>-b \\path\\to\\data\\folder</code> после пути к программе, в результате чего получится примерно следующее:</p>
<p>&quot;C:\Program Files\Anki\anki.exe&quot; -b &quot;C:\AnkiDataFolder&quot;</p>
</li>
</ul>
<p>Вы также можете использовать этот приём с параметром <code>-l</code>, чтобы легко запускать Anki на разных языках.</p>
<p>В Windows следует использовать обратный слэш (\), а не прямой слэш (/).</p>
<p>На Mac нет простого способа изменить поведение при щелчке по иконке Anki, но можно запустить Anki с пользовательской базовой папкой из терминала:</p>
<pre><code>open /Applications/Anki.app --args -b ~/myankifolder
</code></pre>
<p>В качестве альтернативы можно определить переменную окружения &quot;ANKI_BASE&quot;. В Windows её можно задать следующим образом:</p>
<pre><code>set &quot;ANKI_BASE=C:/path/to/AnkiDataFolder&quot;
</code></pre>
<p>В Linux и macOS можно использовать:</p>
<pre><code>export ANKI_BASE=&quot;/path/to/AnkiDataFolder&quot;
</code></pre>
<h2 id="dropbox-и-синхронизация-файлов"><a class="header" href="#dropbox-и-синхронизация-файлов">DropBox и синхронизация файлов</a></h2>
<p>Мы не рекомендуем напрямую синхронизировать папку Anki со сторонним сервисом синхронизации, так как это может привести к повреждению базы данных, если файлы синхронизируются в момент их использования.</p>
<p>Если вам нужно синхронизировать только медиафайлы, вы можете подключить внешние папки к таким сервисам, как DropBox. Подробнее см. <a href="http://web.archive.org/web/20180919153730/http://www.dropboxwiki.com/tips-and-tricks/sync-other-folders">DropboxWiki: Sync Folders Outside Dropbox (archive.org)</a>.</p>
<p>Если вы хотите синхронизировать и саму коллекцию, настоятельно рекомендуется создать скрипт, который копирует ваши файлы из синхронизируемой папки в локальную папку, запускает Anki, а затем копирует файлы обратно после закрытия Anki. Это гарантирует, что файлы никогда не будут синхронизироваться, пока они открыты.</p>
<h2 id="Сетевые-файловые-системы"><a class="header" href="#Сетевые-файловые-системы">Сетевые файловые системы</a></h2>
<p>Мы настоятельно рекомендуем хранить файлы Anki на локальном жёстком диске, так как сетевые файловые системы могут привести к повреждению базы данных. Если сетевая файловая система — ваш единственный вариант, рекомендуется регулярно использовать пункт меню «<strong>Инструменты &gt; Проверить базу данных</strong>» для обнаружения повреждений.</p>
<h2 id="Запуск-с-флеш-накопителя"><a class="header" href="#Запуск-с-флеш-накопителя">Запуск с флеш-накопителя</a></h2>
<p>В Windows Anki можно установить на USB-накопитель/флешку и запускать как портативное приложение. В следующем примере предполагается, что вашему USB-накопителю присвоена буква диска E (при необходимости измените её).</p>
<p>ПРЕДУПРЕЖДЕНИЕ: Буква диска должна быть одинаковой на всех устройствах. Если вы настроите это для диска E, то, например, для флешки с буквой D это работать не будет.</p>
<p>ПРЕДУПРЕЖДЕНИЕ: Синхронизация медиафайлов с AnkiWeb может не работать, если флеш-накопитель отформатирован в FAT32. Пожалуйста, отформатируйте диск в NTFS, чтобы обеспечить корректную синхронизацию медиафайлов.</p>
<ol>
<li>Загрузите последнюю версию лаунчера Anki и установите его в пользовательское расположение:
<code>E:\Anki\Launcher</code>. Не <code>E:\Anki\Launcher\Anki</code>.</li>
<li>Когда лаунчер появится, закройте его, не устанавливая Anki.</li>
<li>Поместите следующий текст в файл <code>E:\Anki\Anki.bat</code>:</li>
</ol>
<pre><code class="language-bat">@echo off
echo Starting Anki...
set USB_ROOT=%~dp0
set ANKI_LAUNCHER_VENV_ROOT=%USB_ROOT%\AnkiProgramFiles
set ANKI_LAUNCHER=%USB_ROOT%\Launcher\anki
set ANKI_BASE=%USB_ROOT%\AnkiData
start /b %ANKI_LAUNCHER%
</code></pre>
<ol start="4">
<li>Дважды щёлкните по созданному вами .bat-файлу и установите Anki как обычно.</li>
<li>Теперь вы можете дважды щёлкать по .bat-файлу, чтобы запускать Anki с других машин.</li>
</ol>
<p>«<strong>Инструменты &gt; Повышение/понижение</strong>» продолжит работать, но только если у вашей машины есть доступ к интернету.</p>
<h2 id="Резервные-копии"><a class="header" href="#Резервные-копии">Резервные копии</a></h2>
<p>Пожалуйста, смотрите <a href="./backups.html">этот раздел</a>.</p>
<h2 id="Недоступный-жесткий-диск"><a class="header" href="#Недоступный-жесткий-диск">Недоступный жесткий диск</a></h2>
<p>Если Anki не может записывать файлы в <a href="#%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5">каталог с данными пользователя</a>, то при запуске будет показано сообщение о том, что Anki не может записывать на жёсткий диск, после чего Anki закроется. Если вы не уверены, как исправить права доступа, пожалуйста, обратитесь к кому-нибудь рядом с вами, кто хорошо разбирается в компьютерах и может помочь.</p>
<h2 id="Права-доступа-к-временной-папке"><a class="header" href="#Права-доступа-к-временной-папке">Права доступа к временной папке</a></h2>
<p>Anki использует системную временную папку для хранения временных данных. Если права доступа к этой папке были изменены по сравнению с настройками по умолчанию вредоносным приложением или ошибочным антивирусом, Anki будет работать некорректно.</p>
<p>Если вы используете Windows 7 (новые версии anki только для Windows 10+), общие шаги для исправления проблемы приведены ниже. Так как это довольно сложно, пожалуйста, попросите помощи у человека, хорошо разбирающегося в Windows, если вы не уверены.</p>
<ol>
<li>
<p>Нажмите на кнопку «Пуск» и введите %temp% (включая проценты), затем нажмите <kbd>Enter</kbd>.</p>
</li>
<li>
<p>Перейдите на один уровень выше и найдите папку temp. Щёлкните по ней правой кнопкой мыши и выберите «Свойства».</p>
</li>
<li>
<p>На вкладке «Безопасность» нажмите «Дополнительно».</p>
</li>
<li>
<p>Перейдите на вкладку «Владелец». Если вы не указаны как владелец, нажмите кнопку, чтобы стать владельцем.</p>
</li>
<li>
<p>На вкладке «Разрешения» убедитесь, что у вас есть полный доступ. В стандартной установке Windows 7 права фактически наследуются из    c:\users\your-username.</p>
</li>
</ol>
<h2 id="Повреждённые-коллекции"><a class="header" href="#Повреждённые-коллекции">Повреждённые коллекции</a></h2>
<p>Anki использует формат файлов, устойчивый к сбоям программ и компьютера, однако повреждение коллекции всё же возможно, если файлы изменяются, пока Anki открыт, хранятся на сетевом диске или повреждены из-за ошибки.</p>
<p>При запуске «<strong>Инструменты &gt; Проверить базу данных</strong>» вы получите сообщение, если Anki обнаружит, что файл повреждён. <strong>Лучший способ восстановления — это восстановление из последней <a href="backups.html#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D1%80%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%BD%D1%8B%D0%B5-%D0%BA%D0%BE%D0%BF%D0%B8%D0%B8">автоматической резервной копии</a></strong>, но если резервная копия слишком старая, вы можете попытаться восстановить повреждение вручную.</p>
<p>В Linux убедитесь, что установлен sqlite3. На Mac он, как правило, уже установлен. В Windows загрузите <a href="http://www.sqlite.org/sqlite-3_6_23.zip">http://www.sqlite.org/sqlite-3_6_23.zip</a>.</p>
<p>Затем создайте резервную копию файла collection.anki2 на случай, если что-то пойдёт не так при выполнении шагов ниже.</p>
<h3 id="linuxmacos"><a class="header" href="#linuxmacos">Linux/macOS</a></h3>
<p>Откройте терминал, перейдите в папку, где находится ваша коллекция, и введите:</p>
<pre><code>sqlite3 collection.anki2 .dump &gt; dump.txt
</code></pre>
<p>Откройте получившийся файл dump.txt в текстовом редакторе и посмотрите на последнюю строку. Если в ней указано &quot;rollback;&quot;, замените её на &quot;commit;&quot;</p>
<p>Затем выполните в терминале следующее:</p>
<pre><code>cat dump.txt | sqlite3 temp.file
</code></pre>
<p>Убедитесь, что вы используете temp.file — не указывайте collection.anki2 справа, иначе вы очистите файл. После этого переходите к финальному шагу.</p>
<h3 id="windows"><a class="header" href="#windows">Windows</a></h3>
<p>Скопируйте программу <code>sqlite3.exe</code> и вашу колоду на рабочий стол. Затем откройте «<strong>Пуск &gt; Выполнить</strong>» и введите <code>cmd.exe</code>.</p>
<p>Если у вас новая версия Windows, командная строка может открыться не на рабочем столе. Если вы не видите рабочий стол в командной строке, введите что-нибудь вроде следующего, заменив &quot;administrator&quot; на ваше имя пользователя.</p>
<pre><code>cd C:\Users\Administrator\Desktop
</code></pre>
<p>Затем введите:</p>
<pre><code>sqlite3 collection.anki2 .dump &gt; dump.txt
</code></pre>
<p>Откройте получившийся файл dump.txt в текстовом редакторе и посмотрите на последнюю строку. Если в ней указано &quot;rollback;&quot;, замените её на &quot;commit;&quot;</p>
<p>Затем выполните в терминале следующее:</p>
<pre><code>type dump.txt | sqlite3 temp.file
</code></pre>
<p>Убедитесь, что вы используете temp.file — не указывайте collection.anki2 справа, иначе вы очистите файл. После этого переходите к финальному шагу.</p>
<h3 id="Финальный-шаг"><a class="header" href="#Финальный-шаг">Финальный шаг</a></h3>
<p>Убедитесь, что вы не получили сообщение об ошибке и что файл temp.file не пустой. В процессе процедура также оптимизирует коллекцию, поэтому нормально, если новый файл будет немного меньше старого.</p>
<p>После того как вы убедились, что файл не пустой:</p>
<ul>
<li>
<p>переименуйте исходный файл collection.anki2 во что-нибудь другое</p>
</li>
<li>
<p>переименуйте temp.file в collection.anki2</p>
</li>
<li>
<p>переместите collection.anki2 обратно в папку коллекции, перезаписав старую версию</p>
</li>
<li>
<p>запустите Anki и выберите «<strong>Инструменты &gt; Проверить базу данных</strong>», чтобы убедиться, что коллекция была успешно восстановлена.</p>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="backups.html" class="mobile-nav-chapters previous" title="Предыдущая глава" aria-label="Предыдущая глава" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="stats.html" class="mobile-nav-chapters next" title="Следующая глава" aria-label="Следующая глава" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="backups.html" class="nav-chapters previous" title="Предыдущая глава" aria-label="Предыдущая глава" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="stats.html" class="nav-chapters next" title="Следующая глава" aria-label="Следующая глава" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
