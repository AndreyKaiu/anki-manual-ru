# Информация о карточках, графики и статистика

<!-- toc -->

## Информация о карточке

Вы можете отобразить информацию о карточке, используя пункт меню «**Карточки > Информация**»,
щелкнув правой кнопкой мыши на карточке и выбрав **Информация...**, или нажав
<kbd>I</kbd> на экране изучения. Будет показано окно "Текущая карточка".

![Card Info](media/card_info.png)

Несколько примечаний:

**Позиция**\
Показывает порядок, в котором карточка будет появляться по отношению к другим новым карточкам. Позицию можно изменить в браузере. После того как карточка была изучена, позиция не используется, если карточка не была вручную сброшена в статус "новая" снова.

**Интервал**\
Задержка от одного повторения до следующего. Время указывается в сокращенной форме: "0s, 1m, 3h, 4d, 5mo, 6y" означает секунд, минут, часов, дней, месяцев и лет соответственно.

**Легкость**\
Приблизительная величина, на которую увеличится интервал, когда вы ответите на карточку для повторения кнопкой "Хорошо".

В нижней части показана история повторений для карточки. Оценка означает нажатую кнопку (1 = Снова, 4 = Легко). Когда карточки переносятся вручную с помощью действий "Сбросить" или "Задать срок", тип будет указан как "Ручной", а оценка как 0.

## Статистика

Окно статистики открывается нажатием кнопки **Статистика** в верхней части главного окна или нажатием <kbd>T</kbd>.

![Statistics screen](media/Statistics.png)

## Выбор колод / коллекции

### Колода

По умолчанию окно статистики покажет статистику для текущей выбранной колоды и любых вложенных в нее подколод, но вы можете выбрать любую колоду из вашей коллекции, введя ее имя в текстовое поле в верхней части экрана или (начиная с Anki 2.1.61) используя селектор колод внизу.

### Коллекция

Если вы установите этот флажок, статистика будет показана для всей вашей коллекции. Вы также можете отображать графики для произвольных поисков, добавляя фильтры в поле поиска вверху (2.1.28+).

### История

По умолчанию Anki показывает вам статистику за последние 12 месяцев. Вы можете изменить это на "вся история" или время жизни колоды указанной вверху. (Раздел "Сегодня", конечно же, не зависит от этого выбора.)

### Дополнительно

- Нажатие на кнопку "Сохранить в формате PDF" сохранит всё статистику в PDF-документ, чтобы легко можно было поделиться своей статистикой с другими.

- Когда вы удаляете записи, их история повторений сохраняется в Anki. Она не будет включаться при просмотре статистики для конкретной колоды (поскольку Anki не может определить, к какой колоде принадлежали удаленные карточки), но будет включаться при просмотре статистики для всей коллекции.

- Anki 2.1.28+ представил переработанные графики. Старые графики все еще доступны при нажатии на кнопку "Статистика" с зажатой клавишей <kbd>Shift</kbd>.

## Сегодня

В верхней части окна статистики находится краткий список текстовой статистики о повторениях, которые вы завершили сегодня. "Повторение" в этом контексте означает "один ответ на карточку", поэтому одна карточка может считаться несколькими повторениями, если ее нужно было увидеть несколько раз, и ответ на карточку в процессе изучения также считается "повторением". Несколько статистических показателей, значение которых может быть не сразу очевидным:

### Количество "Снова"
Это количество повторений, которые вы провалили (т.е. нажали "Снова"). Процент правильных ответов, указанный далее, — это количество карточек, которые вы смогли вспомнить (т.е. не нажали "Снова"), разделенное на общее количество изученных вами карточек.

### Изучаемые, Повторяемые, Переучиваемые, Фильтрованные
Количество повторений, которые приходились на изучаемые, повторяемые, переучиваемые карты, а так же изученные в фильтрованной колоде, когда срок повторения ещё не наступил.

Статистика за текущий день не является хорошим общим показателем вашего прогресса в обучении; у всех бывают плохие и хорошие дни, и то, что в какой-то конкретный день у вас оказался более низкий процент правильных ответов, не должно вызывать беспокойства. Остальная часть статистики, которая учитывает более длительные промежутки времени, даст более полезную информацию, если вы хотите попробовать изменить свои учебные привычки или настройки расписания на основе своей успеваемости.

Статистика «Сегодня» не зависит от выбранного пользователем периода времени.

## Графики

### Прогноз повторений
Этот график показывает предполагаемое количество повторений, которые будут назначены на определённый день в будущем, если вы не будете изучать новые карточки и не будете ошибаться в ответах. Столбцы и левая ось показывают количество карточек, подлежащих повторению в каждый день, если вы изучаете все карточки ежедневно, тогда как серая заштрихованная область и правая ось показывают количество карточек, которые будут назначены на этот день, если вы вообще не будете заниматься до этого момента. Обратите внимание, что прогнозный график не учитывает карточки с просроченным повторением, поэтому если у вас есть большой «хвост» просроченных карточек, они отображаться не будут.

Ежедневная нагрузка — это оценка среднего количества карточек, которые нужно повторять каждый день. Если у вас нет просроченных карточек, ежедневная нагрузка должна быть приблизительно равна количеству карточек, назначенных к повторению.

Она рассчитывается следующим образом:

$$
\frac{1}{I_1} + \frac{1}{I_2} + \frac{1}{I_3} + \dots + \frac{1}{I_n}
$$

Здесь \\(I_n\\) — это интервал n-й карточки. Если интервал меньше одного дня, соответствующий член суммы принимается равным 1. Это предотвращает нереалистичное искажение значения ежедневной нагрузки карточками с короткими интервалами.

Пример: у вас есть карточка с интервалом 10 дней и карточка с интервалом 50 дней. Ежедневная нагрузка = \\(\frac{1}{10} + \frac{1}{50} = 0.12\\), то есть, _в среднем_, у вас будет 0.12 карточки в день, назначенной к повторению.

### Календарь
Этот график показывает прошлую активность повторений карточек. Наведение курсора мыши на конкретный элемент позволяет увидеть количество повторений, выполненных в этот день. Щёлкните по дню недели, чтобы сделать его начальным днём.

### Повторения
Этот график показывает количество выполненных вами повторений карточек. Столбцы могут соответствовать дням, неделям или месяцам в зависимости от выбранного периода времени внизу экрана. Блоки разного цвета показывают, сколько из карточек, на которые вы отвечали в каждый день, были [давно изученными](getting-started.md#Состояния-карты), свежеизученными, переучиваемые или на изучении. Также существует отдельная группа для карточек, на которые был дан ответ в фильтрованной/зубрёжной колоде, когда срок их повторения ещё не наступил. Серая заштрихованная область и правая ось показывают накопительный итог для каждого типа повторений по мере продвижения по графику во времени (так, при 0 днях будет отображаться значение за весь период, показанный на графике).

### Количество карточек
Эта круговая диаграмма показывает, какой процент вашей колоды или коллекции составляют давно изученные, ещё не изученные (новые), свежеизученные/изучаемые и приостановленные карточки. Если вы хотите рассчитать более точный процент, легенда показывает точное количество карточек в каждом разделе, а общее количество карточек отображается сбоку.

### Время повторения
Этот график работает точно так же, как график количества повторений, за исключением того, что он показывает количество времени, которое вы потратили на каждую карточку, а не количество отвеченных карточек.

### Интервалы повторений
Этот график показывает количество карточек с определённым интервалом (задержкой между двумя повторениями). Серая заштрихованная область и правая ось показывают, какой процент ваших карточек имеет интервал, меньший или равный значению времени ниже этой точки. Выбранный временной диапазон влияет на этот график иначе, чем на другие: вместо изменения набора карточек или периода обучения, он ограничивает максимальную отображаемую длину интервалов (поэтому интервалы в 14 месяцев вообще не отображаются на графике за 1 год).

### Лёгкость карточки
Этот график показывает количество карточек с определённым коэффициентом лёгкости. Здесь также отображается средняя лёгкость выбранной колоды / коллекции.

### Стабильность карточки
Отображается только при включённом FSRS. Стабильность определяется как количество времени, необходимое для снижения вероятности вспоминания со 100% до 90%.

### Сложность карточки
Отображается только при включённом FSRS. Сложность определяет, насколько быстро растёт интервал карточки после каждого повторения.

### Вспоминаемость карточки
Отображается только при включённом FSRS. "Вспоминаемость" является синонимом "Вероятность вспоминания".

Оценочный общий объём знаний — это общее количество карточек, которые вы, вероятно, помните в данный момент; оно рассчитывается путём умножения средней вспоминаемости на количество карточек, которые были повторены хотя бы один раз.
### По часам
Этот график показывает процент от общего числа повторений, которые вы прошли, в заданные часы.
1. ось x (внизу): Время суток (по конкретному часу).
2. ось y (справа): Количество изученных карточек.
3. вторичная ось y (слева): Процент успешности.

Таким образом, синие столбцы показывают количество повторений, выполненных вами в этот час (чтобы вы понимали, насколько значимы результаты). Серая заштрихованная область показывает процент от общего числа повторений, которые вы прошли (то есть не нажали _Снова_) в этот час.

### Кнопки ответа
Этот график показывает, сколько раз вы выбирали кнопки "Снова", "Трудно", "Хорошо" или "Легко" при изучении карточек. Anki также отображает процент правильных повторений для каждого типа карточек.


### Таблица "Настоящее усвоение"

Эта таблица показывает ваше усвоение для разных карточек и разных временных промежутков. Карточка считается «давно изученная», если её интервал ≥21 дня. Учитывается только одно повторение в день — первое. «Снова» считается как «Забыто»; «Тяжело», «Хорошо» и «Легко» считаются как «Вспомнено». Эту таблицу можно использовать, чтобы проверить, насколько хорошо для вас работает [алгоритм интервального повторения Анки](https://faqs.ankiweb.net/what-spaced-repetition-algorithm.html).

Если вы используете FSRS, ожидается, что ваше истинное усвоение будет близко к вашему [желаемому усвоению](deck-options.md#Желаемое-усвоение). Пожалуйста, имейте в виду, что данные за один день являются искажёнными, поэтому лучше смотреть на месячные данные. Если ваше истинное усвоение плохо соответствует желаемому усвоению, вот несколько общих рекомендаций:

1) Оптимизируйте параметры FSRS.
2) Используйте разные предустановки с собственными параметрами для разного материала.
3) Приостановите / переформулируйте (сделать исключённой / измените способ представления информации) [приставучих карточек (пиявок)](leeches.md).
4) Убедитесь, что вы [используете кнопки ответа так, как задумано](studying.md#Кнопки-ответа).

## Ручной анализ

Если вам интересно получать из статистики информацию, отличную от той, которую предоставляет Anki, можно получить доступ к данным напрямую. Из-за связанной с этим сложности мы не можем оказывать какую-либо поддержку в этом вопросе.

Один из вариантов — [написать дополнение](addons.md), которое добавит ещё один график или больше деталей в окно статистики. На AnkiWeb уже есть несколько подобных дополнений, описание которых можно посмотреть, чтобы получить представление о том, как это работает.

Более мощный, но и более сложный вариант — извлечь журнал повторений напрямую из базы данных Anki и проанализировать его во внешней программе. Anki использует формат базы данных под названием SQLite. Существует множество инструментов для работы с базами данных SQLite; одним из самых простых для начала является [SQLite Browser](http://sqlitebrowser.org/), который позволит вам просматривать базу данных, а также экспортировать таблицы в формате CSV для импорта в другую программу.

Самой важной для статистики является таблица "revlog", которая хранит запись для каждого выполненного вами повторения. Столбцы имеют следующее значение:

**id**\
Время, в которое было выполнено повторение, в виде количества миллисекунд, прошедших с полуночи UTC 1 января 1970 года. (Это иногда называют «Unix epoch time», особенно когда используется представление в секундах, а не в миллисекундах.)

**cid**\
Идентификатор карточки, которая была повторена. Вы можете найти это значение в поле id таблицы "cards", чтобы получить больше информации о карточке, однако учтите, что карточка могла измениться между моментом записи в revlog и моментом, когда вы её просматриваете. Это также миллисекундная временная метка времени создания карточки.

**usn**\
Этот столбец используется для отслеживания состояния синхронизации повторений и не предоставляет полезной информации для анализа.

**ease**\
Какая кнопка была нажата в конце повторения (1 — Снова (Again), 4 — Легко (Easy)).

**ivl**\
Новый интервал, на который была переведена карточка после повторения. Положительные значения указываются в днях; отрицательные значения — в секундах (для карточек в изучении).

**lastIvl**\
Интервал, который был у карточки до повторения. Карточки, впервые добавленные в колоду, имеют предыдущий интервал, равный шагу для «Снова» (задержке Again).

**factor**\
Новый коэффициент лёгкости карточки в промилле (тысячных долях). Если коэффициент лёгкости равен 2500, интервал карточки будет умножен на 2.5 при следующем нажатии кнопки «Хорошо» (Good).

**time**\
Количество времени (в миллисекундах), которое вы потратили на просмотр стороны вопроса и стороны ответа карточки, перед выбором кнопки оценки.

**type**\
Значение 0 — для карточек в изучении, 1 — для карточек на повторении, 2 — для переучиваемых карточек и 3 — для ранних «зазубриваемых» карточек (карточек, изучаемых в фильтрованной колоде, когда срок повторения ещё не наступил).
