# Просмотр

<!-- toc -->

Окно "Просмотр" позволяет вам искать ваши карточки и записи, а также редактировать их. Оно открывается нажатием кнопки **Просмотр** в главном окне или нажатием клавиши <kbd>B</kbd>. Оно состоит из трёх разделов: _боковой панели_ слева, _таблицы карточек/записей_ вверху справа и _области редактирования_ внизу справа. Вы можете расположить указатель мыши между двумя разделами, щелкнуть левой кнопкой мыши и удерживая её, перетащить этот разделитель областей, что приведет к уменьшения одного раздела и увеличению другого.

## Режимы таблицы

![Table Modes](media/browser_table_modes.png)

Anki 2.1.45+ предлагает два режима: в таблице данных отображаются либо карточки, либо записи. Вы можете изменить текущий режим, нажав переключатель вверху слева от области поиска или нажав <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>T</kbd> или <kbd>Cmd</kbd>+<kbd>Opt</kbd>+<kbd>T</kbd>. Переключатель также указывает, отображаются ли в данный момент **К**арточки или **З**аписи.

**Примечание**: Для простоты это руководство в основном предполагает, что активным является режим карточек. Всякий раз, когда упоминается выбор/поиск/и т.д. «карточек», читатель может заменить это на «карточки или записи в зависимости от активного режима».

## Боковая панель

_Боковая панель_ слева обеспечивает быстрый доступ к общим условиям поиска. В Anki 2.1.45+ она также предоставляет строку поиска, инструменты для редактирования меток и колод, а также выбор из двух различных инструментов, которые обсуждаются в следующих разделах. Вы можете переключать инструменты с помощью панели инструментов вверху боковой панели или сочетаний клавиш <kbd>Alt</kbd>+<kbd>1</kbd>/<kbd>2</kbd>.

### Инструмент поиска

![Search Tool](media/browser_search_tool.png)

С этим инструментом боковая панель ведёт себя как в предыдущих версиях: щелчок по элементу будет искать его.

Вы можете удерживать <kbd>Ctrl</kbd> (на Mac — <kbd>Command</kbd>) во время щелчка, чтобы добавить выбранный элемент к текущему поиску с условием AND, вместо начала нового поиска. Например, чтобы показать карточки на _изучении_, которые также находятся в колоде «Немецкий», вы можете щёлкнуть «Изучаемые», а затем <kbd>Ctrl</kbd> — щёлкнуть «Немецкий».

Вы можете удерживать <kbd>Shift</kbd>, чтобы создать поиск OR вместо AND. Например, вы можете щёлкнуть одну колоду, а затем <kbd>Shift</kbd> — щёлкнуть другую, чтобы показать карточки из любой из этих колод в одном представлении.

Вы можете удерживать <kbd>Alt</kbd> (на Mac — <kbd>Option</kbd>), чтобы инвертировать поиск (добавить `-` в начало): например, чтобы показать все карточки в текущей колоде, которые _не_ имеют определённого тега. <kbd>Alt</kbd>/<kbd>Option</kbd> можно комбинировать с <kbd>Ctrl</kbd> или <kbd>Shift</kbd> (например, щелчок с <kbd>Ctrl</kbd>+<kbd>Alt</kbd> приведёт к добавлению нового поискового термина, который будет отрицаться).

В Anki 2.1.39+ вы также можете одновременно удерживать <kbd>Ctrl</kbd> и <kbd>Shift</kbd> при щелчке по условию поиска, чтобы заменить все вхождения одного и того же типа поиска на новый. Допустим, вы ранее ввели сложное поисковое выражение, например `deck:Swahili (is:due or tag:important)`, а теперь хотите выполнить тот же поиск для вашей колоды «Urdu». Вы можете удерживать <kbd>Ctrl</kbd>+<kbd>Shift</kbd>, щёлкнув колоду «Urdu» на боковой панели, чтобы получить следующее поисковое выражение: `deck:Urdu (is:due or tag:important)`.

### Инструмент выбора

![Инструмент выбора](media/browser_selection_tool2.png)

Инструмент выбора позволяет выбирать несколько элементов одновременно, удерживая <kbd>Ctrl</kbd> или <kbd>Shift</kbd> при щелчке. Он также позволяет перетаскивать элементы для изменения порядка колод и меток.

Вот пример: Допустим, у вас есть метки `Math`, `Calculus` и `Algebra`. Щёлкните по метке `Calculus`, затем <kbd>Ctrl</kbd>-щёлкните по метке `Algebra`. Теперь обе метки выбраны, щёлкните и перетащите любую из них на метку `Math`, чтобы сделать их обе дочерними по отношению к этой метке. Внутренне Anki переименовал два тега в `Math::Calculus` и `Math::Algebra` соответственно и соответствующим образом обновил ваши записи.

Другой вариант использования выбора нескольких элементов — поиск: если вы щёлкните правой кнопкой мыши на выбранных элементах, вы можете выбрать **Поиск > Все/Любые выбранные**. Это можно комбинировать с модификаторами клавиатуры, как описано в разделе [Инструмент поиска](#Инструмент-поиска), чтобы добавить результирующий поиск к текущему поиску.

### Сохранённые поиски

Если вы регулярно ищете одно и то же, вы можете сохранить текущий поиск, щёлкнув правой кнопкой мыши на самом верхнем элементе боковой панели, выбрав **Сохранить поиск** и введя имя. Вы также можете перетащить любой элемент боковой панели в эту область, чтобы добавить эквивалентный сохранённый поиск, фактически закрепив его вверху.

### Редактирование элементов

Вы можете удалять или переименовывать метки, колоды и сохранённые поиски прямо из боковой панели через контекстное меню (правой кнопкой мыши) или с помощью клавиши быстрого доступа (на Windows <kbd>Del</kbd> и <kbd>F2</kbd> соответственно). Удаление работает даже для нескольких элементов одновременно (см. [Инструмент выбора](#Инструмент-выбора)).

### Поиск элементов

Чтобы найти определённый элемент в дереве боковой панели, введите часть его имени в строку поиска вверху.

## Поле поиска

Над таблицей карточек находится поле поиска. Вы можете вводить туда различные выражения для поиска карточек. Информацию о синтаксисе поиска см. в разделе [Поиск](searching.md).

## Таблица карточек/записей

Строки таблицы представляют карточки или записи, соответствующие текущему поиску. Когда вы щёлкаете на строке, соответствующая запись будет показана в нижнем разделе.

### Строки

Если вы перетаскиваете мышь или удерживаете <kbd>Ctrl</kbd> или <kbd>Command</kbd> для выбора нескольких строк, редактор будет временно скрыт. Различные операции (такие как изменение колоды) могут выполняться сразу с несколькими карточками или записями, независимо от активного режима. Поэтому в режиме карточек запись считается выбранной, если выбрана любая из её карточек, а в режиме записей карточка считается выбранной, если её запись выбрана.

Другие операции (например, показ информации о карточке) работают только с одной карточкой или записью. Это называется _текущей_ карточкой или записью, которая обычно является той, что была выбрана или на которую щёлкнули последней. В режиме карточек, опять же, текущая запись — это запись текущей карточки, а в режиме записей текущая карточка — это первая карточка текущей записи.

Цвет фона будет меняться в зависимости от карточки и записи. В режиме карточек используется первое совпадение:

1. если карточка **помечена флагом**, используется цвет флага,
2. если карточка **исключена**, жёлтый,
3. если запись карточки **отмечена**, фиолетовый.

В режиме записей цвет применяется только к помеченным записям.\
Для получения дополнительной информации о помеченных записях и исключенных/отложенных карточках см. [Редактирование и другое](studying.md#Редактирование-и-другое).

### Столбцы

Столбцы настраиваемы: щёлкните правой кнопкой мыши на одном (или <kbd>Ctrl</kbd>-щёлкните на Mac), чтобы выбрать, какие столбцы вы хотите видеть. Вы можете перетаскивать столбцы, чтобы изменить их порядок. Щелчок по столбцу отсортирует по этому столбцу; щелчок снова — изменит порядок сортировки на обратный. Обратите внимание, что вы не можете сортировать по столбцам "Вопрос" и "Ответ".

Все столбцы доступны для обоих [режимов карточек и записей](#Режимы-таблицы), но иногда с немного разными названиями и данными. В следующей таблице перечислено поведение для обоих режимов.

<!-- prettier-ignore -->

| Столбец           | Режим карточек                                                                                                                                                                                                                         | Режим записей                                                                                                                                                                                                  |
| ----------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Вопрос            | Лицевая сторона карточки в одну строку. Вместо этого вы также можете выбрать [пользовательский формат](templates/styling.md#Вид-в-окне-Просмотр) в редакторе типа карточки.                                                            | То же, что и в режиме карточек, только для первой карточки записи.                                                                                                                                             |
| Забыто            | Сколько раз карточке была выставлена оценка «Снова».                                                                                                                                                                                   | Общее количество забываний для всех карточек записи.                                                                                                                                                           |
| Запись изменена   | То же, что и в режиме записей для записи карточки.                                                                                                                                                                                     | Последний раз, когда запись (например, содержимое поля) была отредактирована.                                                                                                                                  |
| Интервал / Средний интервал | Интервал карточки, если карточка находится на повторении или переучивании.                                                                                                                                                   | Средний интервал для карточек записи, которые находятся на повторении или переучивании.                                                                                                                        |
| К просмотру       | Дата повторения для карточек на повторении или переучивании и позиция в очереди новых карточек для новых карточек. Строка заключена в квадратные скобки, если карточка исключена или отложена. Сортировка осуществляется по типу и только затем по дате или позиции. | Дата повторения для следующей карточки записи, запланированной на повторение или переучивание, которая не исключена, не отложена и не находится в фильтрованной колоде. |
| Карточка изменена | Последний раз, когда в карточку вносились изменения (например, когда вы повторяли карточку и история повторений и интервал были обновлены).                                                                                            | Последний раз, когда вносились изменения в одну из карточек записи.                                                                                                                                            |
| Колода            | Название колоды, в которой находится карточка.                                                                                                                                                                                         | Количество различных колод, в которых находятся карточки записи, или название колоды, если все карточки находятся в одной колоде.                                                                              |
| Лёгкость / Средняя лёгкость | Лёгкость карточки, если она не новая.                                                                                                                                                                               | Средняя лёгкость для карточек записи, которые не новые.                                                                                                                                                        |
| Метки             | То же, что и в режиме записей для записи карточки.                                                                                                                                                                                     | Метки записи.                                                                                                                                                                                                  |
| Ответ             | Обратная сторона карточки в одну строку (вопрос тут удален). Вместо этого вы также можете выбрать [пользовательский формат](templates/styling.md#Вид-в-окне-Просмотр) в редакторе типа карточки.                                       | То же, что и в режиме карточек, только для первой карточки записи.                                                                                                                                         |
| Повторено         | Сколько раз карточка была повторена.                                                                                                                                                                                                   | Общее количество повторений для всех карточек записи.                                                                                                                                                          |
| Поле сортировки   | То же, что и в режиме записей для записи карточки.                                                                                                                                                                                     | Содержимое поля записи, которое определено как поле сортировки типа записи. Только это одно поле может отображаться и использоваться для сортировки. Вы можете изменить поле сортировки, нажав **Поля...** в области редактирования. |
| Создана           | То же, что и в режиме записей для записи карточки.                                                                                                                                                                                     | Дата создания записи.                                                                                                                                                                                          |
| Тип записи        | То же, что и в режиме записей для записи карточки.                                                                                                                                                                                     | Название типа записи.                                                                                                                                                                                          |
| Тип карточки / Карточки | Название шаблона карточки.                                                                                                                                                                                                       | Количество карточек у записи.                                                                                                                                                                               |

## Область редактирования

Область внизу справа отображает запись текущей выбранной строки. Для получения дополнительной информации о карточках и записях см. [Начало работы](getting-started.md). Для получения дополнительной информации о кнопках форматирования см. [Добавление/Редактирование](editing.md).

Вы можете увидеть предварительный просмотр того, как будет выглядеть текущая выбранная карточка при повторении, нажав кнопку **Просмотреть** вверху области редактирования. Обратите внимание, что при этом не будут отображаться поля для ввода ответа на ваших карточках, что упрощает быстрый предварительный просмотр карточек. В режиме записей предварительный просмотр показывается для первой карточки выбранной записи.

## Меню и действия

Вверху окна "Просмотр" вы найдёте панель инструментов с различными меню, которые, в свою очередь, предлагают различные действия, которые можно выполнять в этом окне.

### Редактирование

<!-- prettier-ignore -->

| Название             | Действие                                                                                                                                                                                                                      |
| -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Отменить             | Отменить последнюю выполненную операцию (название операции будет после тире).                                                                                                                                                                                 |
| Выделить всё         | Выбрать все отображаемые строки.                                                                                                                                                                                                    |
| Выбрать записи       | Показать только текущие выбранные записи и выбрать все строки.                                                                                                                                                                   |
| Инвертировать выделение      | Выбрать те строки, которые не выбраны, и отменить выбор текущих выбранных строк.                                                                                                                                                     |
| Создать фильтрованную колоду | Показать диалоговое окно [фильтрованной колоды](filtered-decks.md#Создание-вручную) и установить текущий поиск в браузере в качестве фильтра. Удерживайте при открытии <kbd>Alt</kbd> / <kbd>Option</kbd>, чтобы установить второй фильтр.|

### Записи

Большинство следующих действий выполняются над выбранными записями. Они также доступны через контекстное меню при щелчке правой кнопкой мыши на выбранной строке в режиме записей. В режиме карточек их можно найти во вложенном меню контекстного меню.

<!-- prettier-ignore -->

| Название          | Действие                                                                                                                                                                                                                                                                                                                                                   |
| ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Добавить записи   | Открыть диалоговое окно [Добавить](editing.md#Добавление-карточек-и-записей).                                                                                                                                                                                                                             |
| Создать копию     | Открыть [копию](browsing.md#Найти-повторы) текущей записи в [редакторе](editing.md#Добавление-карточек-и-записей), которую можно немного изменить, чтобы легко получить варианты ваших карточек. По умолчанию копия карточки будет создана в той же колоде, что и оригинал.                                                                      |
| Экспортировать записи      | Открыть диалоговое окно [Экспортировать](exporting.md).                                                                                                                                                                                                                                                                     |
| Добавить метки    | Добавить указанные метки ко всем выбранным записям.                                                                                                                                                                                                                                                                                                       |
| Удалить метки     | Ввести метки и удалить их из всех выбранных записей.                                                                                                                                                                                                                                                                                                      |
| Удалить неиспользуемые метки | Удалить все метки с боковой панели, которые не используются ни одной записью.                                                                                                                                                                                                                                                                  |
| Отметить – снять  | Если текущая запись помечена (т.е. имеет метку _marked_, снять пометку со всех выбранных записей. Если текущая запись не помечена, пометить все выбранные записи.                                                                                                                                                                            |
| Сменить тип записи | Преобразовать выбранные записи из одного типа в другой. Например, представьте, что у вас есть тип записи _Russian_ и тип записи _Computer_, и вы случайно добавили текст, связанный с компьютером, в запись типа _Russian_. Вы можете использовать эту опцию, чтобы исправить эту ошибку. Планирование карточек не затрагивается. Изменение типа записи требует односторонней синхронизации. |
| Найти повторы     | Открыть диалоговое окно [Найти повторы](#Найти-повторы).                                                                                                                                                                                                                                                                                                 |
| Найти и заменить  | Открыть диалоговое окно [Найти и заменить](#Найти-и-заменить).                                                                                                                                                                                                                                                                                           |
| Управление типами записей  | Открыть диалоговое окно [Типы записей](editing.md#Добавление-типа-записи).                                                                                                                                                                                                                                                                      |
| Удалить           | Удалить все выбранные записи и их карточки. Невозможно удалить отдельные карточки, так как отдельные карточки управляются [шаблонами](templates/intro.md).                                                                                                                                                                                               |

### Карточки

Следующие действия выполняются над текущими выбранными карточками. Они также доступны через контекстное меню при щелчке правой кнопкой мыши на выбранной строке в режиме карточек. В режиме записей их можно найти во вложенном меню контекстного меню.

<!-- prettier-ignore -->

| Название           | Действие                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| В другую колоду    | Переместить текущие выбранные карточки в другую колоду.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Задать срок        | Превращает карточки в карточки для повторения, если они новые, и делает их запланированными на определённую дату. Это может быть полезно для переноса карточек вперёд или назад на несколько дней, когда ваш график изучения прерывается. Ввод диапазона, например `60-90`, сделает выбранные карточки запланированными на срок от 60 до 90 дней с настоящего момента. У новых карточек будет установлен интервал с такой же задержкой, но у карточек на повторении будет изменено расписание без изменения текущего интервала, если в конце диапазона не указан восклицательный знак (`!`). Обратите внимание, что время ответа не записывается при ручном планировании карточек, поскольку действие может быть выполнено даже вне повторения, и Anki не знает, какая карточка может быть показана или не показана в это время.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Сбросить           | Переместить текущие выбранные карточки в конец очереди новых. Существующая история повторений сохраняется. В версии 2.1.50+ есть опции восстановления исходной позиции карточки и сброса счётчиков забываний и повторений карточки.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Переместить        | Изменить порядок, в котором будут появляться новые карточки. Вы можете узнать существующие позиции, включив столбец _К просмотру_, как описано в разделе [Столбцы](#Таблица-карточекзаписей) выше. Если вы запустите команду изменения позиции, когда выбрано несколько карточек, она применит возрастающие номера к каждой карточке по очереди. По умолчанию номер увеличивается на единицу для каждой карточки, но это можно изменить, изменив настройку «шаг». Опция **Сдвинуть имеющиеся карточки** позволяет вставить карточки между текущими существующими, раздвигая текущие существующие. Например, если у вас есть пять карточек и вы хотите переместить 3, 4 и 5 между 1 и 2, выбор этой настройки приведёт к тому, что карточки окажутся в порядке 1, 3, 4, 5, 2. В отличие от этого, если вы отключите эту опцию, 1 и 2 получат один и тот же номер позиции (и, следовательно, будет непредсказуемо, какая из карточек с одинаковым номером появится первой). Обратите внимание, что при включении этой опции любая карточка с более высокой позицией будет изменена, и все эти изменённые карточки нужно будет отправить при следующей синхронизации. |
| Исключить – включить  | [Исключить](studying.md#Редактирование-и-другое) или включить все выбранные карточки в зависимости от того, исключена текущая карточка или нет.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Флажок             | Переключить флаги всех выбранных карточек. Будет ли флаг добавлен или удалён, зависит от того, имеет ли текущая карточка выбранный флаг.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Информация         | Показать различную информацию о текущей карточке, включая историю её повторений. Для получения дополнительной информации см. [Информация о карточке](stats.md#Информация-о-карточке).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

### Перейти

Это меню существует для предоставления сочетаний клавиш для перехода к различным областям окна, а также для перемещения вверх и вниз по таблице карточек.

## Найти и заменить

Это диалоговое окно позволяет заменять текст в записях. Как описано выше, оно доступно из панели инструментов и контекстного меню таблицы.

Первое поле ввода предназначено для текста, который будет заменён, второе — для замены. Далее есть выпадающее меню, которое позволяет указать, где Anki должен искать текст для замены: в метках записи (требуется Anki 2.1.45+), во всех полях или только в конкретном поле (будут перечислены только поля, принадлежащие выбранной записи).

По умолчанию затрагиваются только выбранные записи. Если вы хотите снять это ограничение, вы можете снять флажок «только выбранные записи» (требуется Anki 2.1.45+).

Опция регулярного выражения позволяет выполнять сложные замены. Например, предположим, что в поле есть следующий текст:

    <img src="pic.jpg" />

Мы используем эти настройки:

![Диалоговое окно «Найти и заменить»](media/find_and_replace.png)

(Обратите внимание, что в версиях Anki до 2.1.28 вам нужно будет заменить `${1}` на `\1`.)

Тогда предполагаемое содержимое поля изменится на:

    pic.jpg

Полное обсуждение регулярных выражений выходит за рамки этого документа. В Интернете доступно несколько руководств по синтаксису:

- Для Anki 2.1.28+ см. <https://docs.rs/regex/latest/regex/index.html#syntax>.
- Для более старых версий Anki см. <http://docs.python.org/library/re.html>.

## Найти повторы

Вы можете использовать опцию **Записи > Найти повторы**, чтобы искать записи, имеющие одинаковое содержимое. Когда вы откроете окно, Anki просмотрит все ваши типы записей и представит список всех возможных полей. Если вы хотите найти повторы в поле _Back_, выберите его из списка и нажмите **Поиск**.

По умолчанию поиск будет выполняться во всех типах записей, которые имеют указанное вами поле. Это отличается от проверки на повторы при ручном добавлении карточек, которая ограничена одним типом записи.

Текстовое поле **Дополнительный фильтр** позволяет сузить область, в которой Anki будет искать повторы. Если вы хотите искать повторы только в типах записей "French Vocab" и "French Verbs", вы должны ввести:

    "note:french vocab" or "note:french verbs"

Или вы можете захотеть искать повторы только в определённой колоде, поэтому можно использовать:

    "deck:myDeck"

Синтаксис поиска такой же, как при поиске в окне "Просмотр". Для получения дополнительной информации см. [Поиск](searching.md).

Вы можете щёлкнуть одну из ссылок в списке результатов поиска, чтобы отобразить повторяющиеся записи в этом наборе. Если поиск выдает большое количество повторяющихся записей, вы можете вместо этого нажать кнопку **Пометить повторы**, которая пометит все соответствующие записи меткой _повтор_. Затем вы можете искать эту метку в таблице записей и обрабатывать их все на одном экране.
